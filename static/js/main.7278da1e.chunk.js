(this.webpackJsonpbiot=this.webpackJsonpbiot||[]).push([[0],{14:function(e,t,s){},15:function(e,t,s){},18:function(e,t,s){},19:function(e,t,s){"use strict";s.r(t);var n=s(1),a=s.n(n),r=s(6),i=s.n(r),c=(s(14),s(15),s(2)),u=s(3),j=s.n(u),o=s(4),d=s(7),l=s(8),b=s(21),g=new(function(){function e(){var t=this;Object(d.a)(this,e),this._createMessage=function(e){return{id:Object(b.a)(),text:e,creationTime:new Date,receivedTime:null}},this.addMessage=function(e,s,n){var a=t._createMessage(e);t._waitingPromises.length>0?t._waitingPromises.shift().resolve({message:a,setIsLastMessageRead:n}):t._messages.push({message:a,setIsLastMessageRead:n});s(a.id)},this.getNextMessage=Object(o.a)(j.a.mark((function e(){var s,n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t._messages.length){e.next=2;break}return e.abrupt("return",new Promise((function(e,s){t._waitingPromises.push({resolve:e,reject:s})})));case 2:return s=t._messages.shift(),n=s.message,a=s.setIsLastMessageRead,e.abrupt("return",{message:n,setIsLastMessageRead:a});case 4:case"end":return e.stop()}}),e)}))),this._messages=[],this._waitingPromises=[]}return Object(l.a)(e,[{key:"deleteMessage",value:function(e){this._messages=this._messages.filter((function(t){return t.message.id!==e||t.setIsLastMessageRead(!0)}))}}]),e}()),m=s(0),h=function(){var e=Object(n.useState)(""),t=Object(c.a)(e,2),s=t[0],a=t[1],r=Object(n.useState)(null),i=Object(c.a)(r,2),u=i[0],j=i[1],o=Object(n.useState)(!0),d=Object(c.a)(o,2),l=d[0],b=d[1];return Object(m.jsxs)("div",{className:"sender",children:[Object(m.jsx)("h1",{children:"Welcome"}),Object(m.jsx)("label",{for:"message",children:"let's send a message"}),Object(m.jsx)("textarea",{placeholder:"your message",type:"text",id:"message",name:"message",value:s,onChange:function(e){return a(e.target.value)}}),Object(m.jsx)("button",{disabled:!s,type:"submit",value:"Submit",onClick:function(){g.addMessage(s,j,b),b(!1),a("")},children:"Submit"}),!l&&Object(m.jsxs)("button",{onClick:function(){return g.deleteMessage(u)},children:["Delete last message: ",u]})]})},x=s(9),O=(s(18),function(){return Object(m.jsxs)("div",{class:"lds-ripple",children:[Object(m.jsx)("div",{}),Object(m.jsx)("div",{})]})}),f=function(e){var t=e.creationTime,s=e.text;e.id;return t?Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{style:{fontSize:"0.5rem"},children:["creation time:",t.toString()]}),Object(m.jsxs)("div",{style:{fontSize:"0.5rem"},children:["received time time:",(new Date).toString()]}),Object(m.jsx)("div",{children:"Message:"}),Object(m.jsx)("textarea",{readonly:!0,value:s})]}):null},v=function(){var e=Object(n.useState)(""),t=Object(c.a)(e,2),s=t[0],a=t[1],r=Object(n.useState)(!1),i=Object(c.a)(r,2),u=i[0],d=i[1],l=function(){var e=Object(o.a)(j.a.mark((function e(){var t,s,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u){e.next=2;break}return e.abrupt("return",alert("You've already pressed Next. Please wait"));case 2:return d(!0),a(""),e.next=6,g.getNextMessage();case 6:t=e.sent,s=t.message,n=t.setIsLastMessageRead,a(s),n(!0),d(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"receiver",children:[Object(m.jsx)("div",{children:"Press Next to start receiving messages"}),Object(m.jsx)("button",{onClick:l,children:"Next"}),u?Object(m.jsx)(O,{}):Object(m.jsx)(f,Object(x.a)({},s))]})};var p=function(){return Object(m.jsx)("div",{className:"App",children:Object(m.jsxs)("div",{className:"App-header",children:[Object(m.jsx)(h,{}),Object(m.jsxs)("div",{style:{maxWidth:"90%",display:"flex"},children:[Object(m.jsx)(v,{}),Object(m.jsx)(v,{})]})]})})},M=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,22)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;s(e),n(e),a(e),r(e),i(e)}))};i.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(p,{})}),document.getElementById("root")),M()}},[[19,1,2]]]);
//# sourceMappingURL=main.7278da1e.chunk.js.map